<!DOCTYPE html>
<html lang="en">
<head>
    <title>FurniTrend Admin Panel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@700&family=Roboto&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #F5F1E9;
            color: #333;
            line-height: 1.6;
        }
        header {
            background-color: #4A3728;
            color: white;
            text-align: center;
            padding: 20px 10px;
        }
        h1 {
            margin: 0;
            font-family: 'Lora', serif;
            font-size: 36px;
            font-weight: 700;
        }
        #admin-login, #admin-content {
            padding: 30px;
            background-color: #FFF;
            border-radius: 12px;
            margin: 20px auto;
            max-width: 700px;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }
        #admin-content h2 {
            color: #4A3728;
            font-family: 'Lora', serif;
            font-size: 26px;
            margin-bottom: 25px;
        }
        .admin-section {
            margin-bottom: 30px;
        }
        .admin-section h3 {
            color: #8B5E3C;
            font-family: 'Lora', serif;
            font-size: 20px;
            margin-bottom: 15px;
        }
        textarea, input, button {
            width: 100%;
            margin-bottom: 15px;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
            font-family: 'Roboto', sans-serif;
        }
        button {
            background-color: #C0A062;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: background 0.3s;
        }
        button:hover {
            background-color: #8B5E3C;
        }
        .admin-item {
            border-bottom: 1px solid #ddd;
            padding-bottom: 15px;
            margin-bottom: 15px;
            font-size: 16px;
        }
        #logoPreview {
            max-width: 120px;
            margin-top: 10px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <header>
        <h1>FurniTrend Admin Panel</h1>
    </header>
    <section id="admin-login" style="display: block;">
        <h2>Admin Login</h2>
        <input type="password" id="password" placeholder="Enter Password">
        <button onclick="login()">Login</button>
    </section>
    <section id="admin-content" style="display: none;">
        <h2>Dashboard</h2>
        <div class="admin-section">
            <h3>Update Logo</h3>
            <input type="file" id="logoUpload" accept="image/*">
            <button onclick="saveLogo()">Save Logo</button>
            <img id="logoPreview" src="https://via.placeholder.com/120x60?text=FurniTrend+Logo" alt="Logo Preview">
        </div>
        <div class="admin-section">
            <h3>Add New Product</h3>
            <input type="text" id="productName" placeholder="Product Name (e.g., Sofa)">
            <input type="file" id="productImage" accept="image/*">
            <textarea id="productDesc" rows="3" placeholder="Product Description"></textarea>
            <button onclick="addProduct()">Add Product</button>
        </div>
        <div class="admin-section">
            <h3>Manage Products</h3>
            <div id="productList"></div>
        </div>
        <div class="admin-section">
            <h3>Add YouTube Video</h3>
            <input type="text" id="videoUrl" placeholder="Enter YouTube video URL">
            <button onclick="addVideo()">Add Video</button>
        </div>
        <div class="admin-section">
            <h3>Manage Videos</h3>
            <div id="videoList"></div>
        </div>
        <div class="admin-section">
            <h3>User Messages</h3>
            <div id="messageList"></div>
        </div>
    </section>
    <a href="furnitrend.html">Back to Website</a>
    <script>
        // Password for admin panel (change this to your own)
        const ADMIN_PASSWORD = "mysecret123";

        // Login function
        function login() {
            let password = document.getElementById('password').value;
            if (password === ADMIN_PASSWORD) {
                document.getElementById('admin-login').style.display = 'none';
                document.getElementById('admin-content').style.display = 'block';
                loadAdminContent();
            } else {
                alert('Incorrect password!');
            }
        }

        // Load admin panel content
        function loadAdminContent() {
            // Load logo
            let logoUrl = localStorage.getItem('logoUrl') || 'https://via.placeholder.com/120x60?text=FurniTrend+Logo';
            if (document.getElementById('logoPreview')) {
                document.getElementById('logoPreview').src = logoUrl;
            }
            // Load products
            let products = JSON.parse(localStorage.getItem('products') || '[]');
            let productList = document.getElementById('productList');
            if (productList) {
                productList.innerHTML = '';
                products.forEach(product => {
                    let div = document.createElement('div');
                    div.className = 'admin-item';
                    div.innerHTML = `${product.name} - ${product.description} <button onclick="deleteProduct(${product.id})">Delete</button>`;
                    productList.appendChild(div);
                });
            }
            // Load videos
            let videos = JSON.parse(localStorage.getItem('videos') || '[]');
            let videoList = document.getElementById('videoList');
            if (videoList) {
                videoList.innerHTML = '';
                videos.forEach((url, index) => {
                    let div = document.createElement('div');
                    div.className = 'admin-item';
                    div.innerHTML = `Video ${index + 1}: ${url} <button onclick="deleteVideo(${index})">Delete</button>`;
                    videoList.appendChild(div);
                });
            }
            // Load messages
            let messages = JSON.parse(localStorage.getItem('messages') || '[]');
            let messageList = document.getElementById('messageList');
            if (messageList) {
                messageList.innerHTML = '';
                messages.forEach(message => {
                    let div = document.createElement('div');
                    div.className = 'admin-item';
                    div.innerHTML = `${message.name}: ${message.message} <button onclick="deleteMessage(${message.id})">Delete</button>`;
                    messageList.appendChild(div);
                });
            }
        }

        // Save logo
        function saveLogo() {
            const fileInput = document.getElementById('logoUpload');
            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    localStorage.setItem('logoUrl', e.target.result);
                    document.getElementById('logoPreview').src = e.target.result;
                    alert('Logo saved! Return to website.');
                    window.location.href = 'furnitrend.html';
                };
                reader.readAsDataURL(fileInput.files[0]);
            } else {
                alert('Please select a logo image.');
            }
        }

        // Add product
        function addProduct() {
            const fileInput = document.getElementById('productImage');
            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    let name = document.getElementById('productName').value;
                    let image = e.target.result;
                    let description = document.getElementById('productDesc').value;
                    if (name && description) {
                        let products = JSON.parse(localStorage.getItem('products') || '[]');
                        let id = products.length ? Math.max(...products.map(p => p.id)) + 1 : 1;
                        products.push({ id, name, image, description });
                        localStorage.setItem('products', JSON.stringify(products));
                        alert('Product added!');
                        window.location.href = 'furnitrend.html';
                    } else {
                        alert('Please fill all product fields.');
                    }
                };
                reader.readAsDataURL(fileInput.files[0]);
            } else {
                alert('Please select a product image.');
            }
        }

        // Delete product
        function deleteProduct(id) {
            let products = JSON.parse(localStorage.getItem('products') || '[]');
            products = products.filter(p => p.id !== id);
            localStorage.setItem('products', JSON.stringify(products));
            alert('Product deleted!');
            window.location.href = 'furnitrend.html';
        }

        // Add YouTube video
        function addVideo() {
            let url = document.getElementById('videoUrl').value;
            let videoId = url.split('v=')[1]?.split('&')[0] || url.split('youtu.be/')[1]?.split('?')[0];
            if (videoId) {
                let embedUrl = `https://www.youtube.com/embed/${videoId}`;
                let videos = JSON.parse(localStorage.getItem('videos') || '[]');
                videos.push(embedUrl);
                localStorage.setItem('videos', JSON.stringify(videos));
                alert('Video added!');
                window.location.href = 'furnitrend.html';
            } else {
                alert('Invalid YouTube URL. Use format like https://www.youtube.com/watch?v=VIDEO_ID');
            }
        }

        // Delete video
        function deleteVideo(index) {
            let videos = JSON.parse(localStorage.getItem('videos') || '[]');
            videos.splice(index, 1);
            localStorage.setItem('videos', JSON.stringify(videos));
            alert('Video deleted!');
            window.location.href = 'furnitrend.html';
        }

        // Delete message
        function deleteMessage(id) {
            let messages = JSON.parse(localStorage.getItem('messages') || '[]');
            messages = messages.filter(m => m.id !== id);
            localStorage.setItem('messages', JSON.stringify(messages));
            alert('Message deleted!');
            window.location.href = 'furnitrend.html';
        }
    </script>
</body>
</html>